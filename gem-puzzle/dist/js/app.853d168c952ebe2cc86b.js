!function(e){function t(t){for(var n,l,r=t[0],a=t[1],u=t[2],c=0,p=[];c<r.length;c++)l=r[c],Object.prototype.hasOwnProperty.call(s,l)&&s[l]&&p.push(s[l][0]),s[l]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(h&&h(t);p.length;)p.shift()();return o.push.apply(o,u||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],n=!0,r=1;r<i.length;r++){var a=i[r];0!==s[a]&&(n=!1)}n&&(o.splice(t--,1),e=l(l.s=i[0]))}return e}var n={},s={0:0},o=[];function l(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.m=e,l.c=n,l.d=function(e,t,i){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(i,n,function(t){return e[t]}.bind(null,n));return i},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var r=window.webpackJsonp=window.webpackJsonp||[],a=r.push.bind(r);r.push=t,r=r.slice();for(var u=0;u<r.length;u++)t(r[u]);var h=a;o.push([72,1]),i()}({39:function(e,t){var i=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),console.log("Hello from JavaScript!")};window.main=i;var n=document.createElement("div");n.id="puzzle-wrapper";var s=document.querySelector("body");n.append(document.createElement("div")),s.append(n)},68:function(e,t,i){var n=i(38),s=i(69);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var o={insert:"head",singleton:!1};n(s,o);e.exports=s.locals||{}},69:function(e,t,i){},70:function(e,t,i){var n=i(38),s=i(71);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var o={insert:"head",singleton:!1};n(s,o);e.exports=s.locals||{}},71:function(e,t,i){},72:function(e,t,i){"use strict";i.r(t);i(39),i(18),i(54),i(65);function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isEmpty=!1,this.index=i,this.puzzle=t,this.width=this.puzzle.width/this.puzzle.dimmension,this.height=this.puzzle.height/this.puzzle.dimmension,this.el=this.createDiv(),t.el.appendChild(this.el),this.index!==this.puzzle.dimmension*this.puzzle.dimmension-1?(this.setImage(),this.setPosition(this.index)):this.isEmpty=!0}var t,i,s;return t=e,(i=[{key:"createDiv",value:function(){var e=this,t=document.createElement("div");return t.style.backgroundSize="".concat(this.puzzle.width,"px ").concat(this.puzzle.height,"px"),t.style.border="1px solid #FFF",t.style.position="absolute",t.classList.add("".concat(this.index+1)),t.innerHTML="<p>".concat(this.index+1,"</p>"),t.onclick=function(){var t=e.puzzle.findPosition(e.index),i=e.puzzle.findEmpty(),n=e.getXY(t),s=n.x,o=n.y,l=e.getXY(i),r=l.x,a=l.y;s!==r&&o!==a||1!==Math.abs(s-r)&&1!==Math.abs(o-a)||(e.puzzle.numberOfMovements++,e.puzzle.onSwap&&"function"==typeof e.puzzle.onSwap&&e.puzzle.onSwap(e.puzzle.numberOfMovements),e.puzzle.swapCells(t,i,!0))},t}},{key:"setImage",value:function(){var e=this.getXY(this.index),t=e.x,i=e.y,n=this.width*t,s=this.height*i;this.el.style.width="".concat(this.width,"px"),this.el.style.height="".concat(this.height,"px"),this.el.style.backgroundImage="url(".concat(this.puzzle.imageSrc,")"),this.el.style.backgroundPosition="-".concat(n,"px -").concat(s,"px")}},{key:"setPosition",value:function(e,t,i){var n=this.getPositionFromIndex(e),s=n.left,o=n.top,l=this.getPositionFromIndex(i),r=l.left,a=l.top;t?s!==r?this.animate("left",r,s):o!==a&&this.animate("top",a,o):(this.el.style.left="".concat(s,"px"),this.el.style.top="".concat(o,"px"))}},{key:"animate",value:function(e,t,i){var n=this,s=10*Math.abs(i-t)/500,o=setInterval((function(){t<i?(t=Math.min(i,t+s))>=i&&clearInterval(o):(t=Math.max(i,t-s))<=i&&clearInterval(o),n.el.style[e]=t+"px"}),10)}},{key:"getPositionFromIndex",value:function(e){var t=this.getXY(e),i=t.x,n=t.y;return{left:this.width*i,top:this.height*n}}},{key:"getXY",value:function(e){return{x:e%this.puzzle.dimmension,y:Math.floor(e/this.puzzle.dimmension)}}}])&&n(t.prototype,i),s&&n(t,s),e}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=function(){function e(t,i,n){var s=this,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;o(this,e),this.parentEl=t,this.dimmension=l,this.imageSrc=i,this.width=n,this.cells=[],this.shuffling=!1,this.numberOfMovements=0,this.onFinished=function(){},this.onSwap=function(){},this.init();var r=new Image;r.onload=function(){console.log(r.width,r.height),s.height=r.height*s.width/r.width,s.el.style.width="".concat(s.width,"px"),s.el.style.height="".concat(s.height,"px"),s.setup()},r.src=this.imageSrc}var t,i,n;return t=e,(i=[{key:"init",value:function(){this.el=this.createWrapper(),this.parentEl.appendChild(this.el)}},{key:"createWrapper",value:function(){var e=document.createElement("div");return e.style.position="relative",e.style.margin=" 0 auto",e.classList.add("puzzle"),e}},{key:"setup",value:function(){for(var e=0;e<this.dimmension*this.dimmension;e++)this.cells.push(new s(this,e));this.shuffle()}},{key:"shuffle",value:function(){this.shuffling=!0;for(var e=this.cells.length-1;e>0;e--){var t=Math.floor(Math.random()*(e+1));this.swapCells(e,t)}this.shuffling=!1}},{key:"swapCells",value:function(e,t,i){this.cells[e].setPosition(t,i,e),this.cells[t].setPosition(e);var n=[this.cells[t],this.cells[e]];this.cells[e]=n[0],this.cells[t]=n[1],!this.shuffling&&this.isAssembled()&&this.onFinished&&"function"==typeof this.onFinished&&this.onFinished.call(this)}},{key:"isAssembled",value:function(){for(var e=0;e<this.cells.length;e++)if(e!==this.cells[e].index)return 6===e&&8===this.cells[e].index&&this.cells[e+1].index===e+1;return!0}},{key:"findPosition",value:function(e){return this.cells.findIndex((function(t){return t.index===e}))}},{key:"findEmpty",value:function(){return this.cells.findIndex((function(e){return e.isEmpty}))}}])&&l(t.prototype,i),n&&l(t,n),e}();window.PicturePuzzle=window.PicturePuzzle||r;var a=new r(document.querySelectorAll("#puzzle-wrapper > div")[0],"./assets/images/game.jpg",600);a.onSwap=function(e){console.log(e)};var u=document.querySelector("#success-modal");u.style.display="block",a.onFinished=function(){var e=this;console.log("Show good job dialog"),setTimeout((function(){u.classList.add("open"),e.el.classList.add("blur-it")}),500)};i(68),i(70)}});